<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="None" /><link rel="canonical" href="https://adridevelop.github.io/" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>My Docs</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Adri\u00e1n Velasco Carrasco";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = "/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> My Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Adrián Velasco Carrasco</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#practica-21-instalacion-y-configuracion-de-un-servidor-web-nginx">Práctica 2.1 - Instalación y configuración de un servidor web Nginx</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#instalacion">Instalación</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#creacion-de-las-carpetas-del-sitio-web">Creación de las carpetas del sitio web</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configuracion-de-servidor-web-nginx">Configuración de servidor web NGINX</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#comprobaciones">Comprobaciones</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ftp">FTP</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#https">HTTPS</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="Practica-2.2/">Practica 2.2</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">My Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Adrián Velasco Carrasco</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="adrian-velasco-carrasco">Adrián Velasco Carrasco</h1>
<h2 id="practica-21-instalacion-y-configuracion-de-un-servidor-web-nginx">Práctica 2.1 - Instalación y configuración de un servidor web Nginx</h2>
<h3 id="instalacion">Instalación</h3>
<p>Para instalar el servidor de nginx en nuestra Debian debemos de realizar los siguientes comandos: <br>
<code>sudo apt update</code>
<code>sudo apt install nginx</code></p>
<p><img alt="alt text" src="images/Captura%20de%20pantalla%202024-10-08%20a%20las%2023.39.11.png" /></p>
<p>Y comprobamos que se ha instalado y que está funcionando correcamente: <br>
<code>systemctl status nginx</code></p>
<p><img alt="alt text" src="images/image.png" /></p>
<h3 id="creacion-de-las-carpetas-del-sitio-web">Creación de las carpetas del sitio web</h3>
<p>Vamos a crear nuestra carpeta para nuestro sitio web dentro de /var/www ya que típicamente, estas carpetas almacenan los sitios.
Para crearla haremos uso del comando: <code>sudo mkdir -p /var/www/adridevelop/html</code></p>
<p><img alt="alt text" src="images/image2.png" /></p>
<p>Para el siguiente paso, deberemos de instalar git en Debian. Para ello realizamos lo siguiente.
<img alt="alt text" src="images/image3.png" /></p>
<p>Y dentro de esta carpeta, debemos clonar el repositorio: <code>https://github.com/cloudacademy/static-website-example</code></p>
<p><img alt="alt text" src="images/image4.png" /></p>
<p>Ahora, haremos que el usuario www-data sea el propietario mediante el comando <code>sudo chown -R www-data:www-data /var/www/adridevelop/html</code>.</p>
<p><img alt="alt text" src="images/image5.png" /></p>
<p>A continuación, daremos los permisos necesarios para no tener errores en el acceso al sitio web usando el comando <code>sudo chmod -R 755 /var/www/adridevelop</code></p>
<p><img alt="alt text" src="images/image-1.png" /></p>
<p>Y comprobaremos que está funcionando desde nuestra máquina local escribiendo en la barra de búsqueda la ip de nuestro servidor.</p>
<p><img alt="alt text" src="images/image6.png" /></p>
<h3 id="configuracion-de-servidor-web-nginx">Configuración de servidor web NGINX</h3>
<p>Para que podamos presentar contenido en nuestra webm deberemos de crear un bloque de servidor con directivas correctas. Para ello, crearemos un nuevo archivo de configuración. Iremos a nuestra terminal y crearemos nuestro archivo de configuración mediante <code>sudo nano /etc/nginx/sites-available/vuestro_dominio</code>.</p>
<p><img alt="alt text" src="images/image7.png" /></p>
<p>Y dentro de este archivo que hemos creado, generaremos lo siguiente:</p>
<pre><code>server {
        listen 80;
        listen [::]:80;
        root /ruta/absoluta/archivo/index;
        index index.html index.htm index.nginx-debian.html;
        server_name nombre_web;
        location / {
                try_files $uri $uri/ =404;
        }
}
</code></pre>
<p><img alt="alt text" src="images/image8.png" /></p>
<p>También, deberemos de crear un archivo simbólico entre este archivo y el de los sitios que están habilitados. Para ello <code>sudo ln -s /etc/nginx/sites-available/nombre_web /etc/nginx/sites-enabled/</code></p>
<p><img alt="alt text" src="images/image9.png" /></p>
<p>Y reiniciaremos el servidor. <code>sudo systemctl restart nginx</code></p>
<p><img alt="alt text" src="images/image10.png" /></p>
<h3 id="comprobaciones">Comprobaciones</h3>
<p>Para comprobar que nuestro host está funcionando, deberemos de acceder dentro de nuestra máquina cliente a /etc/host y añadiremos nuestro servidor nginx.</p>
<p><img alt="alt text" src="images/image11.png" /></p>
<p>Y deberemos también comprobar que, las peticiones se están registrando correctamente en los archivos de logs, tanto las correctas como las erróneas.</p>
<p><img alt="alt text" src="images/image12.png" /></p>
<p><img alt="alt text" src="images/image13.png" /></p>
<p><img alt="alt text" src="images/image14.png" /></p>
<p><img alt="alt text" src="images/image15.png" /></p>
<h3 id="ftp">FTP</h3>
<p>Para configurar SFTP en Debian deberemos de instalar antes vsftpd, para ello, haremos uso de <code>sudo apt-get install vsftpd</code></p>
<p><img alt="alt text" src="images/image16.png" /></p>
<p>Tras eso, crearemos una carpeta en nuestro home de Debian llamada ftp. <code>mkdir /home/adrian-alumno/ftp</code></p>
<p><img alt="alt text" src="images/image17.png" /></p>
<p>Tras eso, deberemos de crear los certificados de seguridad necesarios mediante <code>sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/vsftpd.pem -out /etc/ssl/private/vsftpd.pem</code></p>
<p><img alt="alt text" src="images/image18.png" /></p>
<p>Y una vez realizados estos pasos, deberemos de editar el documento /etc/vsftpd.conf de la siguiente manera: <code>sudo nano /etc/vsftpd.conf</code></p>
<p><img alt="alt text" src="images/image19.png" /></p>
<p>Y guardaremos los cambios y reiniciaremos el servidor. <code>sudo systemctl restart -now vsftpd</code></p>
<p><img alt="alt text" src="images/image20.png" /></p>
<p>Tras esta configuración, instalaremos FileZilla y haremos una operación ftp a nuestro servidor. Para ello, deberemos de poner nuestra ip, nombre de usuario, contraseña y puerto para que podamos realizar la conexión. </p>
<p><img alt="alt text" src="images/image21.png" /></p>
<p>Tras haber realizado la conexión correctamente, debemos pasar un archivo para comprobar que funciona, en mi caso, una foto.</p>
<p><img alt="alt text" src="images/image22.png" /></p>
<p><img alt="alt text" src="images/image23.png" /></p>
<h3 id="https">HTTPS</h3>
<p>Deberemos de instalar openssl para que podamos acceder a nuestro sitio a través de https.</p>
<p><img alt="alt text" src="images/image24.png" /></p>
<p>Ahora, crearemos nuestro certificado.</p>
<p><img alt="alt text" src="images/image25.png" /></p>
<p>Y tras eso, almacenaremos la configuración.</p>
<p><img alt="alt text" src="images/image26.png" /></p>
<p>Y agregaremos el cerficado y las nuevas rutas a nuestro fichero.</p>
<p><img alt="alt text" src="images/image27.png" /></p>
<p>Y en nuestro host, añadiremos en nuestra ip, las direcciones añadidas anteriormente.</p>
<p><img alt="alt text" src="images/image28.png" /></p>
<p>Y buscamos en nuestro navegador nuestro sitio web.</p>
<p><img alt="alt text" src="images/image29.png" /></p>
<p><img alt="alt text" src="images/image30.png" /></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="Practica-2.2/" class="btn btn-neutral float-right" title="Practica 2.2">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
      <span><a href="Practica-2.2/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

<!--
MkDocs version : 1.6.1
Build Date UTC : 2024-10-10 13:27:58.216784+00:00
-->
